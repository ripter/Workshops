# Loading an FBX File in A-Frame.

There is an existing FBX Loader in [Don McCurdy's A-frame extras](https://github.com/donmccurdy/aframe-extras/tree/master/src/loaders). So if you just want a good way to load FBX Files in a-frame, go with his version. The one I am going to create will not have all the features. I'm only going to implement enough to convert to our desired GLTF format.

## Setup

We need a [FBXLoader](https://github.com/mrdoob/three.js/blob/dev/examples/js/loaders/FBXLoader.js) for Three.JS. You should grab the latest version from github.

Include the loader for FBX files.
```
<script src="./libs/FBXLoader.js"></script>
```


Load the FBX File using A-Frame's asset system.
```
<a-assets>
  <a-asset-item id="fbxModelFemale" src="./assets/characterLargeFemale.fbx"></a-asset-item>
</a-assets>
```

Then we just need to use the asset in a component. We need an A-Frame component that can load FBX Models. We could use [Don McCurdy's fbx-model component](https://github.com/donmccurdy/aframe-extras/blob/master/src/loaders/fbx-model.js). But I think we will learn more if we build our own.


## Creating fbx-model component
We will call the new component `fbx-model` to fit in with the existing naming scheme used by A-Frame.

We want to make this:

```
<a-entity fbx-model="#fbxModelFemale"></a-entity>
```

You can read the basics on how to [write a component](https://aframe.io/docs/0.9.0/introduction/writing-a-component.html) and [component API](https://aframe.io/docs/0.9.0/core/component.html) online. I am going to assume you have read those already, and move on to interesting parts of the code.


The first step is to try and load a file and get the model back.

```
AFRAME.registerComponent('fbx-model', {
  schema: {type: 'asset'},
  init() {
    const url = this.data;
    const loader = this.loader = new THREE.FBXLoader();

    loader.load(url, (model) => {
      console.log('model', model);
    }, void 0, (error) => {
      console.error('Error Loading file', error);
    });
  },
});
```


### First Error

>>> Loading file Error: THREE.FBXLoader: Cannot find the version number for the file given.
    at getFbxVersion (FBXLoader.js:3876)
